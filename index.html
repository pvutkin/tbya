<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Работа + Обучение - TBYA.RU</title>
    <meta name="description" content="Платформа для поиска работы и обучения в Т-Банке. Найдите вакансию и пройдите курс для подготовки.">
    
    <!-- Preload critical fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Colors */
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --bg-primary: #f8fafc;
            --bg-secondary: #ffffff;
            --bg-accent: #f1f5f9;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            --border: #e2e8f0;
            --border-light: #f1f5f9;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            
            /* Typography */
            --font-base: 16px;
            --font-sm: 14px;
            --font-lg: 18px;
            --font-xl: 20px;
            --font-2xl: 24px;
            --font-3xl: 32px;
            
            /* Spacing */
            --space-xs: 0.5rem;
            --space-sm: 1rem;
            --space-md: 1.5rem;
            --space-lg: 2rem;
            --space-xl: 3rem;
            --space-2xl: 4rem;
            
            /* Border radius */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            
            /* Transitions */
            --transition-fast: 150ms ease-in-out;
            --transition-normal: 250ms ease-in-out;
            --transition-slow: 350ms ease-in-out;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: var(--font-base);
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-primary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Utility Classes */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-sm);
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-xs);
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius-md);
            font-weight: 500;
            font-size: var(--font-base);
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition-fast);
            white-space: nowrap;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }
        
        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }
        
        .btn-secondary:hover {
            background: var(--bg-accent);
            border-color: var(--primary);
        }
        
        .btn-sm {
            padding: 8px 16px;
            font-size: var(--font-sm);
        }
        
        .card {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-light);
            transition: all var(--transition-normal);
        }
        
        .card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }
        
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: var(--font-sm);
            font-weight: 500;
            white-space: nowrap;
        }
        
        .badge-primary {
            background: rgba(37, 99, 235, 0.1);
            color: var(--primary);
        }
        
        .badge-success {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }
        
        .badge-warning {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }
        
        /* Header */
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-light);
            padding: var(--space-sm) 0;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            font-size: var(--font-2xl);
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }
        
        .logo::before {
            content: "🚀";
            font-size: var(--font-xl);
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: var(--space-2xl) 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="10" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero h1 {
            font-size: var(--font-3xl);
            font-weight: 700;
            margin-bottom: var(--space-md);
            line-height: 1.2;
        }
        
        .hero p {
            font-size: var(--font-lg);
            opacity: 0.9;
            margin-bottom: var(--space-xl);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Hot Jobs Ticker */
        .hot-ticker {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-light);
            padding: var(--space-sm) 0;
        }
        
        .ticker-header {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            margin-bottom: var(--space-xs);
        }
        
        .fire-icon {
            font-size: var(--font-lg);
        }
        
        .ticker-title {
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .ticker-content {
            overflow: hidden;
            white-space: nowrap;
        }
        
        .ticker-items {
            display: inline-block;
            animation: ticker-scroll 30s linear infinite;
        }
        
        .ticker-item {
            display: inline-block;
            padding: 0 var(--space-md);
            border-right: 1px solid var(--border);
        }
        
        .ticker-item:last-child {
            border-right: none;
        }
        
        .ticker-item a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            transition: color var(--transition-fast);
        }
        
        .ticker-item a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }
        
        @keyframes ticker-scroll {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }
        
        /* Two-column layout styles */
        .content-layout {
            display: flex;
            gap: var(--space-lg);
            margin: var(--space-xl) 0;
        }
        
        .column {
            flex: 1;
        }
        
        .left-column {
            flex: 1;
        }
        
        .right-column {
            flex: 2;
            padding: var(--space-md);
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-light);
        }
        
        .jobs-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }
        
        .job-item {
            padding: var(--space-md);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .job-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .job-meta {
            display: flex;
            gap: var(--space-xs);
            margin: var(--space-sm) 0;
        }
        
        .select-job-btn {
            margin-top: var(--space-sm);
            width: 100%;
        }
        
        .details-container {
            min-height: 400px;
        }
        
        .placeholder-message {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-secondary);
            text-align: center;
            padding: var(--space-xl);
        }
        
        .job-details-section, .course-recommendation {
            margin-bottom: var(--space-xl);
            padding-bottom: var(--space-lg);
            border-bottom: 1px solid var(--border-light);
        }
        
        .job-details-section:last-child, .course-recommendation:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .company-name {
            color: var(--text-secondary);
            margin: var(--space-xs) 0 var(--space-md);
        }
        
        .job-description, .job-requirements, .job-skills, .course-description, .course-skills {
            margin: var(--space-md) 0;
        }
        
        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-xs);
            margin-top: var(--space-sm);
        }
        
        .course-card {
            background: var(--bg-accent);
            padding: var(--space-lg);
            border-radius: var(--radius-md);
            margin-top: var(--space-md);
        }
        
        .course-provider {
            color: var(--text-secondary);
            margin: var(--space-xs) 0 var(--space-md);
        }
        
        .course-meta {
            display: flex;
            gap: var(--space-xs);
            margin: var(--space-sm) 0;
        }
        
        .apply-btn, .enroll-btn {
            margin-top: var(--space-md);
            width: 100%;
        }
        
        /* Blog Section */
        .blog-section {
            padding: var(--space-xl) 0;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-light);
        }
        
        .blog-posts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-lg);
            margin: var(--space-lg) 0;
        }
        
        .blog-post {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-normal);
        }
        
        .blog-post:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }
        
        .blog-post h3 {
            margin-bottom: var(--space-sm);
            color: var(--text-primary);
        }
        
        .blog-post p {
            color: var(--text-secondary);
            margin-bottom: var(--space-md);
        }
        
        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--font-sm);
            color: var(--text-muted);
        }
        
        .blog-author {
            font-weight: 500;
        }
        
        .blog-date {
            color: var(--text-secondary);
        }
        
        /* Load More Container */
        .load-more-container {
            text-align: center;
            margin-top: var(--space-lg);
        }
        
        .load-more-btn {
            margin-top: var(--space-lg);
            width: 100%;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 0 var(--space-md);
            }
            
            .hero h1 {
                font-size: var(--font-2xl);
            }
            
            .content-layout {
                flex-direction: column;
            }
            
            .right-column {
                margin-top: var(--space-lg);
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            .hero {
                padding: var(--space-lg) 0;
            }
            
            .section-title {
                font-size: var(--font-xl);
            }
            
            .job-item {
                padding: var(--space-md);
            }
        }
        
        /* Focus styles */
        .btn:focus,
        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">TBYA.RU</a>
                <nav>
                    <ul class="nav-links">
                        <li><a href="#" class="nav-link active">Главная</a></li>
                        <li><a href="admin.html" class="nav-link">Админка</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Работа + Обучение</h1>
                <p>Найдите вакансию в Т-Банке и пройдите курс для подготовки от Яндекс Практикума</p>
            </div>
        </div>
    </section>
    
    <!-- Hot Jobs Ticker -->
    <section class="hot-ticker">
        <div class="container">
            <div class="ticker-header">
                <span class="fire-icon">🔥</span>
                <span class="ticker-title">Горящие вакансии:</span>
            </div>
            <div class="ticker-content">
                <div class="ticker-items" id="hotJobsTicker">
                    <!-- Hot jobs will be loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content Section -->
    <section class="main-content">
        <div class="container">
            <div class="content-layout">
                <!-- Left Column - Job Listings -->
                <div class="column left-column">
                    <div class="section-header">
                        <h2 class="section-title">Вакансии в Т-Банке</h2>
                        <p class="section-subtitle">Выберите интересующую вас позицию</p>
                    </div>
                    
                    <div class="jobs-list" id="jobsList">
                        <!-- Job listings will be loaded here -->
                    </div>
                    
                    <div class="load-more-container" id="loadMoreContainer" style="text-align: center; margin-top: var(--space-lg); display: none;">
                        <button class="btn btn-secondary" id="loadMoreBtn">
                            Посмотреть все вакансии
                        </button>
                    </div>
                    
                    <div class="load-more-jobs-container" id="loadMoreJobsContainer" style="text-align: center; margin-top: var(--space-lg); display: none;">
                        <button class="btn btn-secondary" id="loadMoreJobsBtn">
                            Посмотреть все вакансии
                        </button>
                    </div>
                </div>
                
                <!-- Right Column - Job Details and Recommended Course -->
                <div class="column right-column">
                    <div class="section-header">
                        <h2 class="section-title">Детали вакансии</h2>
                        <p class="section-subtitle">Информация о позиции и рекомендованный курс</p>
                    </div>
                    
                    <div class="details-container" id="detailsContainer">
                        <div class="placeholder-message">
                            <p>Выберите вакансию из списка, чтобы увидеть детали и рекомендованный курс для подготовки</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Blog Section -->
    <section class="blog-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Блог</h2>
                <p class="section-subtitle">Полезные статьи для вашей карьеры</p>
            </div>
            
            <div class="blog-posts" id="blogPosts">
                <!-- Blog posts will be loaded here -->
            </div>
            
            <div class="load-more-container" style="text-align: center; margin-top: var(--space-lg);">
                <button class="btn btn-secondary" id="loadMoreBlogBtn">
                    Смотреть все статьи
                </button>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>TBYA.RU</h3>
                    <p>Ваш надёжный партнёр в поиске работы и профессиональном развитии</p>
                </div>
                <div class="footer-section">
                    <h3>Для соискателей</h3>
                    <ul class="footer-links">
                        <li><a href="#">Поиск вакансий</a></li>
                        <li><a href="#">Резюме</a></li>
                        <li><a href="#">Карьерные советы</a></li>
                        <li><a href="#">Курсы</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Для работодателей</h3>
                    <ul class="footer-links">
                        <li><a href="#">Разместить вакансию</a></li>
                        <li><a href="#">Поиск кандидатов</a></li>
                        <li><a href="#">Корпоративное обучение</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Помощь</h3>
                    <ul class="footer-links">
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Поддержка</a></li>
                        <li><a href="#">Контакты</a></li>
                    </ul>
                </div>
            <div class="footer-bottom">
                <p>&copy; 2025 TBYA.RU. Все права защищены.</p>
            </div>
        </div>
    </footer>

    <script>
        // Data storage using localStorage
        const STORAGE_KEY_JOBS = 'tbya_jobs';
        const STORAGE_KEY_COURSES = 'tbya_courses';
        const STORAGE_KEY_BLOG_POSTS = 'tbya_blog_posts';
        
        // Initialize with mock data if empty
        function initializeData() {
            if (!localStorage.getItem(STORAGE_KEY_JOBS)) {
                const mockJobs = [
                    {
                        id: 1,
                        title: 'Аналитик данных',
                        company: 'Т-Банк',
                        salary: 'от 150 000 ₽',
                        location: 'Москва',
                        workType: 'Офис',
                        skills: ['SQL', 'Python', 'Tableau', 'Анализ данных', 'Статистика'],
                        description: 'Ищем аналитика данных для работы над проектами по анализу клиентского поведения и оптимизации бизнес-процессов. Вы будете работать с большими объемами данных, создавать отчеты и визуализации для принятия бизнес-решений.',
                        requirements: ['Высшее образование в области математики, статистики или IT', 'Опыт работы с SQL и Python от 2 лет', 'Знание инструментов визуализации (Tableau, Power BI)', 'Понимание основ статистики и машинного обучения'],
                        category: 'data',
                        hot: true
                    },
                    {
                        id: 2,
                        title: 'Frontend-разработчик',
                        company: 'Т-Банк',
                        salary: 'от 180 000 ₽',
                        location: 'СПб',
                        workType: 'Удалённая работа',
                        skills: ['JavaScript', 'React', 'TypeScript', 'HTML/CSS', 'Redux'],
                        description: 'Разработка и поддержка пользовательских интерфейсов для банковских продуктов. Работа в команде с дизайнерами и backend-разработчиками над созданием современных веб-приложений.',
                        requirements: ['Опыт работы с React от 3 лет', 'Знание TypeScript', 'Понимание принципов работы REST API', 'Опыт работы с системами контроля версий (Git)'],
                        category: 'it',
                        hot: true
                    },
                    {
                        id: 3,
                        title: 'UX/UI Дизайнер',
                        company: 'Т-Банк',
                        salary: 'от 120 000 ₽',
                        location: 'Москва',
                        workType: 'Гибрид',
                        skills: ['Figma', 'Sketch', 'Прототипирование', 'User Research', 'UI Kit'],
                        description: 'Создание удобных и интуитивных интерфейсов для цифровых продуктов банка. Проведение исследований пользователей, разработка прототипов и визуальных концепций.',
                        requirements: ['Портфолио с примерами работ', 'Опыт в UX/UI дизайне от 2 лет', 'Знание Figma и других инструментов дизайна', 'Понимание принципов юзабилити'],
                        category: 'design',
                        hot: false
                    },
                    {
                        id: 4,
                        title: 'Маркетолог',
                        company: 'Т-Банк',
                        salary: 'от 100 000 ₽',
                        location: 'Удалённо',
                        workType: 'Удалённая работа',
                        skills: ['Digital Marketing', 'SMM', 'Google Analytics', 'Контекстная реклама', 'Email-маркетинг'],
                        description: 'Развитие digital-направления маркетинга. Создание и запуск рекламных кампаний, анализ эффективности, работа с контентом для социальных сетей.',
                        requirements: ['Опыт в digital-маркетинге от 2 лет', 'Знание Google Analytics и рекламных кабинетов', 'Навыки работы с контентом', 'Аналитическое мышление'],
                        category: 'marketing',
                        hot: false
                    },
                    {
                        id: 5,
                        title: 'Backend-разработчик',
                        company: 'Т-Банк',
                        salary: 'от 200 000 ₽',
                        location: 'Москва',
                        workType: 'Офис',
                        skills: ['Java', 'Spring', 'PostgreSQL', 'Docker', 'Kubernetes'],
                        description: 'Разработка и поддержка серверной части банковских приложений. Работа с микросервисами, оптимизация производительности, обеспечение безопасности данных.',
                        requirements: ['Опыт работы с Java и Spring от 3 лет', 'Знание баз данных PostgreSQL', 'Опыт работы с Docker и Kubernetes', 'Понимание принципов построения распределенных систем'],
                        category: 'it',
                        hot: true
                    },
                    {
                        id: 6,
                        title: 'Data Scientist',
                        company: 'Т-Банк',
                        salary: 'от 250 000 ₽',
                        location: 'СПб',
                        workType: 'Гибрид',
                        skills: ['Python', 'Machine Learning', 'TensorFlow', 'Pandas', 'Numpy'],
                        description: 'Разработка и внедрение моделей машинного обучения для анализа финансовых данных и прогнозирования рыночных трендов.',
                        requirements: ['Высшее образование в области математики или IT', 'Опыт работы с Python и библиотеками ML от 2 лет', 'Знание TensorFlow/PyTorch', 'Опыт работы с большими объемами данных'],
                        category: 'data',
                        hot: false
                    },
                    {
                        id: 7,
                        title: 'Product Manager',
                        company: 'Т-Банк',
                        salary: 'от 180 000 ₽',
                        location: 'Москва',
                        workType: 'Офис',
                        skills: ['Product Management', 'Agile', 'Analytics', 'Roadmap', 'Stakeholder Management'],
                        description: 'Управление продуктовой стратегией и разработкой цифровых продуктов банка. Координация работы кросс-функциональных команд.',
                        requirements: ['Опыт работы в роли Product Manager от 3 лет', 'Знание методологий Agile/Scrum', 'Опыт работы с аналитическими инструментами', 'Понимание финансового сектора'],
                        category: 'it',
                        hot: true
                    },
                    {
                        id: 8,
                        title: 'DevOps Engineer',
                        company: 'Т-Банк',
                        salary: 'от 220 000 ₽',
                        location: 'Удалённо',
                        workType: 'Удалённая работа',
                        skills: ['AWS', 'Docker', 'Kubernetes', 'CI/CD', 'Terraform'],
                        description: 'Построение и поддержка инфраструктуры для разработки и развертывания банковских приложений. Автоматизация процессов CI/CD.',
                        requirements: ['Опыт работы с облачными платформами AWS от 2 лет', 'Знание Docker и Kubernetes', 'Опыт настройки CI/CD пайплайнов', 'Знание Terraform'],
                        category: 'it',
                        hot: false
                    },
                    {
                        id: 9,
                        title: 'Financial Analyst',
                        company: 'Т-Банк',
                        salary: 'от 130 000 ₽',
                        location: 'Москва',
                        workType: 'Офис',
                        skills: ['Financial Modeling', 'Excel', 'Power BI', 'Risk Analysis', 'Forecasting'],
                        description: 'Анализ финансовых показателей, подготовка отчетности и прогнозов. Оценка рисков и разработка рекомендаций по оптимизации финансовой деятельности.',
                        requirements: ['Высшее образование в области экономики или финансов', 'Опыт финансового анализа от 2 лет', 'Знание Excel и Power BI', 'Навыки финансового моделирования'],
                        category: 'data',
                        hot: false
                    },
                    {
                        id: 10,
                        title: 'Content Manager',
                        company: 'Т-Банк',
                        salary: 'от 90 000 ₽',
                        location: 'СПб',
                        workType: 'Гибрид',
                        skills: ['Content Strategy', 'Copywriting', 'SMM', 'SEO', 'Analytics'],
                        description: 'Создание и управление контентом для цифровых каналов банка. Разработка контент-стратегии и анализ эффективности материалов.',
                        requirements: ['Опыт работы в digital-маркетинге от 2 лет', 'Навыки копирайтинга', 'Знание принципов SEO', 'Опыт работы с аналитикой'],
                        category: 'marketing',
                        hot: true
                    }
                ];
                localStorage.setItem(STORAGE_KEY_JOBS, JSON.stringify(mockJobs));
            }
            
            if (!localStorage.getItem(STORAGE_KEY_COURSES)) {
                const mockCourses = [
                    {
                        id: 1,
                        title: 'Аналитик данных',
                        provider: 'Яндекс Практикум',
                        price: '99 000 ₽',
                        duration: '10 месяцев',
                        level: 'Начинающий',
                        skills: ['SQL', 'Python', 'Pandas', 'Matplotlib', 'Tableau', 'Статистика', 'Машинное обучение'],
                        description: 'Профессия аналитика данных включает в себя навыки работы с большими объемами информации, построение визуализаций и создание прогнозов. Вы освоите все необходимые инструменты для работы с данными и сможете принимать участие в реальных бизнес-проектах.',
                        category: 'data'
                    },
                    {
                        id: 2,
                        title: 'Frontend-разработчик',
                        provider: 'Яндекс Практикум',
                        price: '119 000 ₽',
                        duration: '10 месяцев',
                        level: 'Начинающий',
                        skills: ['HTML', 'CSS', 'JavaScript', 'React', 'TypeScript', 'Webpack', 'Git'],
                        description: 'Курс по frontend-разработке научит создавать современные веб-приложения. Вы изучите основы веб-технологий, научитесь работать с популярными фреймворками и библиотеками, а также освоите инструменты разработки.',
                        category: 'it'
                    },
                    {
                        id: 3,
                        title: 'UX/UI Дизайнер',
                        provider: 'Яндекс Практикум',
                        price: '89 000 ₽',
                        duration: '9 месяцев',
                        level: 'Начинающий',
                        skills: ['Figma', 'User Research', 'Прототипирование', 'UI Kit', 'Адаптивный дизайн', 'Дизайн-системы'],
                        description: 'Профессия UX/UI дизайнера включает в себя навыки создания удобных и красивых интерфейсов. Вы научитесь проводить исследования пользователей, создавать прототипы и визуальные концепции, а также работать с дизайн-системами.',
                        category: 'design'
                    },
                    {
                        id: 4,
                        title: 'Интернет-маркетолог',
                        provider: 'Яндекс Практикум',
                        price: '79 000 ₽',
                        duration: '8 месяцев',
                        level: 'Начинающий',
                        skills: ['SMM', 'Контекстная реклама', 'SEO', 'Google Analytics', 'Email-маркетинг', 'Таргетированная реклама'],
                        description: 'Курс по интернет-маркетингу научит продвигать продукты и услуги в digital-среде. Вы освоите инструменты аналитики, научитесь создавать рекламные кампании и работать с контентом для социальных сетей.',
                        category: 'marketing'
                    },
                    {
                        id: 5,
                        title: 'Backend-разработчик',
                        provider: 'Яндекс Практикум',
                        price: '129 000 ₽',
                        duration: '12 месяцев',
                        level: 'Начинающий',
                        skills: ['Python', 'Django', 'FastAPI', 'PostgreSQL', 'Docker', 'Redis'],
                        description: 'Курс по backend-разработке научит создавать серверную часть веб-приложений. Вы освоите работу с базами данных, API, контейнеризацию и другие важные технологии.',
                        category: 'it'
                    },
                    {
                        id: 6,
                        title: 'Data Scientist',
                        provider: 'Яндекс Практикум',
                        price: '139 000 ₽',
                        duration: '12 месяцев',
                        level: 'Начинающий',
                        skills: ['Python', 'Machine Learning', 'Deep Learning', 'TensorFlow', 'Pandas', 'Numpy'],
                        description: 'Курс по data science научит работать с большими объемами данных, создавать модели машинного обучения и применять их для решения бизнес-задач.',
                        category: 'data'
                    },
                    {
                        id: 7,
                        title: 'Product Manager',
                        provider: 'Яндекс Практикум',
                        price: '89 000 ₽',
                        duration: '9 месяцев',
                        level: 'Начинающий',
                        skills: ['Product Management', 'Agile', 'Analytics', 'Roadmap', 'Stakeholder Management'],
                        description: 'Курс по product management научит управлять продуктами, разрабатывать стратегии и координировать работу команд.',
                        category: 'it'
                    },
                    {
                        id: 8,
                        title: 'DevOps Engineer',
                        provider: 'Яндекс Практикум',
                        price: '119 000 ₽',
                        duration: '10 месяцев',
                        level: 'Начинающий',
                        skills: ['Linux', 'Docker', 'Kubernetes', 'CI/CD', 'AWS', 'Terraform'],
                        description: 'Курс по DevOps научит автоматизировать процессы разработки и развертывания приложений, работать с облачными платформами и инфраструктурой.',
                        category: 'it'
                    },
                    {
                        id: 9,
                        title: 'Финансовый аналитик',
                        provider: 'Яндекс Практикум',
                        price: '79 000 ₽',
                        duration: '8 месяцев',
                        level: 'Начинающий',
                        skills: ['Financial Modeling', 'Excel', 'Power BI', 'Risk Analysis', 'Forecasting'],
                        description: 'Курс по финансовому анализу научит анализировать финансовые показатели, строить модели и принимать обоснованные бизнес-решения.',
                        category: 'data'
                    },
                    {
                        id: 10,
                        title: 'Контент-менеджер',
                        provider: 'Яндекс Практикум',
                        price: '69 000 ₽',
                        duration: '6 месяцев',
                        level: 'Начинающий',
                        skills: ['Content Strategy', 'Copywriting', 'SMM', 'SEO', 'Analytics'],
                        description: 'Курс по контент-менеджменту научит создавать и управлять контентом для цифровых каналов, разрабатывать стратегии и анализировать эффективность.',
                        category: 'marketing'
                    }
                ];
                localStorage.setItem(STORAGE_KEY_COURSES, JSON.stringify(mockCourses));
            }
            
            if (!localStorage.getItem(STORAGE_KEY_BLOG_POSTS)) {
                const mockBlogPosts = [
                    {
                        id: 1,
                        title: 'Как составить эффективное резюме в 2025 году',
                        excerpt: 'Актуальные советы по созданию резюме, которое привлечет внимание работодателей и поможет вам выделиться среди других кандидатов.',
                        content: 'Полная статья о составлении резюме...',
                        author: 'Анна Петрова',
                        date: '2025-08-15',
                        category: 'Карьера'
                    },
                    {
                        id: 2,
                        title: 'Топ 10 навыков, которые нужны IT-специалистам в 2025 году',
                        excerpt: 'Какие технические и soft skills будут востребованы у IT-профессионалов в следующем году и как их развить.',
                        content: 'Полная статья о навыках IT-специалистов...',
                        author: 'Иван Сидоров',
                        date: '2025-08-02',
                        category: 'IT'
                    },
                    {
                        id: 3,
                        title: 'Где учиться профессии Data Scientist: обзор лучших курсов',
                        excerpt: 'Сравнение различных образовательных платформ и курсов для тех, кто хочет стать специалистом по данным.',
                        content: 'Полная статья об обучении Data Science...',
                        author: 'Мария Козлова',
                        date: '2025-09-01',
                        category: 'Образование'
                    },
                    {
                        id: 4,
                        title: 'Удаленная работа: плюсы и минусы для карьерного роста',
                        excerpt: 'Анализ влияния удаленного формата работы на профессиональное развитие и карьерные перспективы.',
                        content: 'Полная статья об удаленной работе...',
                        author: 'Алексей Морозов',
                        date: '2025-08-30',
                        category: 'Карьера'
                    },
                    {
                        id: 5,
                        title: 'Как пройти собеседование в Т-Банк: советы от рекрутеров',
                        excerpt: 'Инсайды от HR-специалистов Т-Банка о том, как подготовиться к интервью и произвести хорошее впечатление.',
                        content: 'Полная статья о собеседованиях в Т-Банк...',
                        author: 'Елена Волкова',
                        date: '2025-09-03',
                        category: 'Карьера'
                    },
                    {
                        id: 6,
                        title: 'Финтех-образование: почему стоит учиться именно в этой сфере',
                        excerpt: 'Обзор перспектив финтех-индустрии и преимуществ обучения по направлениям, связанным с финансами и технологиями.',
                        content: 'Полная статья о финтех-образовании...',
                        author: 'Дмитрий Николаев',
                        date: '2025-08-18',
                        category: 'Образование'
                    }
                ];
                localStorage.setItem(STORAGE_KEY_BLOG_POSTS, JSON.stringify(mockBlogPosts));
            }
        }
        
        // Data Management Functions
        function getJobs() {
            return JSON.parse(localStorage.getItem(STORAGE_KEY_JOBS) || '[]');
        }
        
        function getCourses() {
            return JSON.parse(localStorage.getItem(STORAGE_KEY_COURSES) || '[]');
        }
        
        function getBlogPosts() {
            return JSON.parse(localStorage.getItem(STORAGE_KEY_BLOG_POSTS) || '[]');
        }
        
        function saveBlogPosts(posts) {
            localStorage.setItem(STORAGE_KEY_BLOG_POSTS, JSON.stringify(posts));
        }
        
        function addBlogPost(post) {
            const posts = getBlogPosts();
            post.id = Date.now(); // Simple ID generation
            posts.push(post);
            saveBlogPosts(posts);
            return post;
        }
        
        function updateBlogPost(updatedPost) {
            const posts = getBlogPosts();
            const index = posts.findIndex(post => post.id === updatedPost.id);
            if (index !== -1) {
                posts[index] = updatedPost;
                saveBlogPosts(posts);
                return true;
            }
            return false;
        }
        
        function deleteBlogPost(postId) {
            const posts = getBlogPosts();
            const filteredPosts = posts.filter(post => post.id !== postId);
            saveBlogPosts(filteredPosts);
        }

        // Utility Functions
        function sanitizeHTML(str) {
            const div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        function createElement(tag, className = '', innerHTML = '') {
            const element = document.createElement(tag);
            if (className) element.className = className;
            if (innerHTML) element.innerHTML = innerHTML;
            return element;
        }
// State for job loading
let displayedJobs = 0;
const JOBS_PER_LOAD = 3;

// Function to load jobs in the left column
function loadJobs() {
    // Initialize data if needed
    initializeData();
    
    const jobsList = document.getElementById('jobsList');
    const jobs = getJobs();
    
    // Clear list only if it's the first load
    if (displayedJobs === 0) {
        jobsList.innerHTML = '';
    }
    
    // Determine how many jobs to display
    const startIndex = displayedJobs;
    const endIndex = Math.min(startIndex + JOBS_PER_LOAD, jobs.length);
    
    // Add jobs to the list
    for (let i = startIndex; i < endIndex; i++) {
        const job = jobs[i];
        const jobElement = createElement('div', 'card job-item');
        jobElement.innerHTML = `
            <h3>${sanitizeHTML(job.title)}</h3>
            <p class="company-name">${sanitizeHTML(job.company)}</p>
            
            <div class="job-meta">
                <span class="badge badge-primary">${sanitizeHTML(job.location)}</span>
                <span class="badge badge-success">${sanitizeHTML(job.salary)}</span>
                ${job.hot ? '<span class="badge badge-warning" style="margin-left: var(--space-xs);">🔥 Горящая</span>' : ''}
            </div>
            
            <button class="btn btn-primary btn-sm select-job-btn" data-job-id="${job.id}">
                Выбрать
            </button>
        `;
        jobsList.appendChild(jobElement);
    }
    
    // Update displayed jobs count
    displayedJobs = endIndex;
    
    // Show or hide load more button
    const loadMoreContainer = document.getElementById('loadMoreContainer');
    const loadMoreJobsContainer = document.getElementById('loadMoreJobsContainer');
    if (displayedJobs < jobs.length) {
        loadMoreContainer.style.display = 'block';
        loadMoreJobsContainer.style.display = 'block';
    } else {
        loadMoreContainer.style.display = 'none';
        loadMoreJobsContainer.style.display = 'none';
    }
    
    // Add event listeners to job selection buttons
    document.querySelectorAll('.select-job-btn').forEach(button => {
        button.addEventListener('click', function() {
            const jobId = parseInt(this.getAttribute('data-job-id'));
            selectJob(jobId);
        });
    });
}

// Function to load more jobs
function loadMoreJobs() {
    loadJobs();
}
        // Function to load more jobs
        function loadMoreJobs() {
            loadJobs();
        }

        // Function to calculate weighted course relevance score
        function calculateWeightedCourseRelevance(job, course) {
            let score = 0;
            
            // Category match (50 points)
            if (job.category === course.category) {
                score += 50;
            }
            
            // Skill matches (10 points each)
            if (job.skills && course.skills) {
                const commonSkills = job.skills.filter(skill =>
                    course.skills.some(courseSkill =>
                        courseSkill.toLowerCase() === skill.toLowerCase()
                    )
                );
                score += commonSkills.length * 10;
            }
            
            // Additional weighting factors
            // Provider reputation (10 points for Яндекс Практикум)
            if (course.provider === 'Яндекс Практикум') {
                score += 10;
            }
            
            // Duration match (5 points for courses 6-12 months)
            if (course.duration) {
                const durationMonths = parseInt(course.duration);
                if (durationMonths >= 6 && durationMonths <= 12) {
                    score += 5;
                }
            }
            
            // Price match (5 points for courses under 150 000 ₽)
            if (course.price) {
                const priceValue = parseInt(course.price.replace(/\s/g, '').replace('₽', ''));
                if (priceValue < 150000) {
                    score += 5;
                }
            }
            
            return score;
        }
        
        // Function to calculate course relevance with advanced weighting algorithm
        function calculateAdvancedCourseRelevance(job, course) {
            let score = 0;
            
            // Category match (50 points)
            if (job.category === course.category) {
                score += 50;
            }
            
            // Skill matches (10 points each)
            if (job.skills && course.skills) {
                const commonSkills = job.skills.filter(skill =>
                    course.skills.some(courseSkill =>
                        courseSkill.toLowerCase() === skill.toLowerCase()
                    )
                );
                score += commonSkills.length * 10;
            }
            
            // Additional weighting factors
            // Provider reputation (10 points for Яндекс Практикум)
            if (course.provider === 'Яндекс Практикум') {
                score += 10;
            }
            
            // Duration match (5 points for courses 6-12 months)
            if (course.duration) {
                const durationMonths = parseInt(course.duration);
                if (durationMonths >= 6 && durationMonths <= 12) {
                    score += 5;
                }
            }
            
            // Price match (5 points for courses under 150 000 ₽)
            if (course.price) {
                const priceValue = parseInt(course.price.replace(/\s/g, '').replace('₽', ''));
                if (priceValue < 150000) {
                    score += 5;
                }
            }
            
            // Level match (5 points for beginner level)
            if (course.level === 'Начинающий') {
                score += 5;
            }
            
            // Popularity factor (based on number of enrollments or reviews)
            // For demo purposes, we'll use a random factor between 0-10
            const popularityFactor = Math.floor(Math.random() * 11);
            score += popularityFactor;
            
            return score;
        }
        
        // Function to get top relevant courses for a job using weighted algorithm
        function getTopRelevantCourses(job, count = 3) {
            const courses = getCourses();
            
            // Calculate relevance scores for all courses using weighted algorithm
            const coursesWithScores = courses.map(course => ({
                ...course,
                relevanceScore: calculateWeightedCourseRelevance(job, course)
            }));
            
            // Sort by relevance score (descending)
            coursesWithScores.sort((a, b) => b.relevanceScore - a.relevanceScore);
            
            // Return top courses
            return coursesWithScores.slice(0, count);
        }
        
        
        // Function to handle job selection
        function selectJob(jobId) {
            const jobs = getJobs();
            const job = jobs.find(j => j.id === jobId);
            if (!job) return;
            
            // Get top 3 relevant courses
            const relevantCourses = getTopRelevantCourses(job, 3);
            const recommendedCourse = relevantCourses[0]; // Top recommended course
            
            // Update the details container
            const detailsContainer = document.getElementById('detailsContainer');
            detailsContainer.innerHTML = `
                <div class="job-details-section">
                    <h3>${sanitizeHTML(job.title)}</h3>
                    <p class="company-name">${sanitizeHTML(job.company)}</p>
                    
                    <div class="job-meta">
                        <span class="badge badge-primary">${sanitizeHTML(job.location)}</span>
                        <span class="badge badge-success">${sanitizeHTML(job.salary)}</span>
                        <span class="badge badge-warning">${sanitizeHTML(job.workType)}</span>
                    </div>
                    
                    <div class="job-description">
                        <h4>Описание вакансии</h4>
                        <p>${sanitizeHTML(job.description)}</p>
                    </div>
                    
                    <div class="job-requirements">
                        <h4>Требования</h4>
                        <ul>
                            ${job.requirements.map(req => `<li>${sanitizeHTML(req)}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="job-skills">
                        <h4>Ключевые навыки</h4>
                        <div class="skills-container">
                            ${job.skills.map(skill => `<span class="badge badge-primary">${sanitizeHTML(skill)}</span>`).join('')}
                        </div>
                    </div>
                    
                    <button class="btn btn-primary apply-btn" onclick="alert('Функция отклика на вакансию будет реализована позже')">
                        Откликнуться на вакансию
                    </button>
                </div>
                
                ${relevantCourses && relevantCourses.length > 0 ? `
                <div class="course-recommendation">
                    <h3>Рекомендованные курсы для подготовки</h3>
                    ${relevantCourses.map((course, index) => `
                        <div class="course-card" style="margin-bottom: var(--space-md);">
                            <h4>${sanitizeHTML(course.title)}</h4>
                            <p class="course-provider">${sanitizeHTML(course.provider)}</p>
                            
                            <div class="course-meta">
                                <span class="badge badge-success">${sanitizeHTML(course.price)}</span>
                                <span class="badge badge-primary">${sanitizeHTML(course.duration)}</span>
                                <span class="badge badge-warning">Релевантность: ${course.relevanceScore}</span>
                            </div>
                            
                            <div class="course-description">
                                <p>${sanitizeHTML(course.description)}</p>
                            </div>
                            
                            <div class="course-skills">
                                <h5>Что вы изучите</h5>
                                <div class="skills-container">
                                    ${course.skills.slice(0, 5).map(skill => `<span class="badge badge-primary">${sanitizeHTML(skill)}</span>`).join('')}
                                    ${course.skills.length > 5 ? `<span class="badge badge-primary">+${course.skills.length - 5} навыков</span>` : ''}
                                </div>
                            </div>
                            
                            <button class="btn btn-secondary enroll-btn" onclick="handleCourseEnrollment(${course.id}, '${sanitizeHTML(course.title)}', '${job.category}')" style="margin-top: var(--space-sm);">
                                Записаться на курс
                            </button>
                        </div>
                    `).join('')}
                </div>
                ` : '<p>Рекомендованные курсы не найдены</p>'}
            `;
        }

        // Function to render hot jobs ticker
        function renderHotJobsTicker() {
            const jobs = getJobs();
            const hotJobs = jobs.filter(job => job.hot);
            
            if (hotJobs.length === 0) {
                document.querySelector('.hot-ticker').style.display = 'none';
                return;
            }
            
            const tickerContainer = document.getElementById('hotJobsTicker');
            tickerContainer.innerHTML = '';
            
            // Duplicate items for continuous scrolling effect
            const items = [...hotJobs, ...hotJobs];
            
            items.forEach(job => {
                const tickerItem = createElement('div', 'ticker-item');
                tickerItem.innerHTML = `
                    <a href="#" class="hot-job-link" data-job-id="${job.id}">
                        ${sanitizeHTML(job.title)} в ${sanitizeHTML(job.company)}
                    </a>
                `;
                tickerContainer.appendChild(tickerItem);
            });
            
            // Add event listeners to hot job links
            document.querySelectorAll('.hot-job-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const jobId = parseInt(this.getAttribute('data-job-id'));
                    // Scroll to jobs list and select the job
                    document.querySelector('.left-column').scrollIntoView({ behavior: 'smooth' });
                    selectJob(jobId);
                });
            });
        }
        
        // Function to handle course enrollment with referral tracking
        function handleCourseEnrollment(courseId, courseTitle, jobCategory) {
            // In a real application, this would redirect to the course provider's website
            // with UTM parameters for tracking
            
            // Generate UTM parameters
            const utmParams = new URLSearchParams({
                utm_source: 'tbya_ru',
                utm_medium: 'referral',
                utm_campaign: `job_${jobCategory}`,
                utm_content: `course_${courseId}`
            });
            
            // For demo purposes, we'll just show an alert with the referral link
            const referralLink = `https://praktikum.yandex.ru/${courseTitle.toLowerCase().replace(/\s+/g, '-')}/?${utmParams.toString()}`;
            alert(`Реферальная ссылка для курса "${courseTitle}":\n${referralLink}\n\nВ реальном приложении это будет переход на сайт курса с отслеживанием.`);
            
            // In a real application, you would also track this click in your analytics
            // For example, send an event to Google Analytics:
            // gtag('event', 'course_enrollment', {
            //     'event_category': 'engagement',
            //     'event_label': `course_${courseId}`,
            //     'value': 1
            // });
            
            // Store referral data in localStorage for analytics
            const referrals = JSON.parse(localStorage.getItem('tbya_referrals') || '[]');
            referrals.push({
                courseId: courseId,
                courseTitle: courseTitle,
                jobCategory: jobCategory,
                timestamp: new Date().toISOString(),
                utmParams: Object.fromEntries(utmParams)
            });
            localStorage.setItem('tbya_referrals', JSON.stringify(referrals));
            
            // In a real application, you would also redirect to the course provider's website
            // with the UTM parameters for tracking
            // window.location.href = referralLink;
        }
        
        // State for blog post loading
        let displayedBlogPosts = 0;
        const BLOG_POSTS_PER_LOAD = 3;
        
        // Function to render blog posts
        function renderBlogPosts() {
            const blogPosts = getBlogPosts();
            const blogContainer = document.getElementById('blogPosts');
            
            // Determine how many posts to display
            const startIndex = displayedBlogPosts;
            const endIndex = Math.min(startIndex + BLOG_POSTS_PER_LOAD, blogPosts.length);
            
            // Add posts to the container
            for (let i = startIndex; i < endIndex; i++) {
                const post = blogPosts[i];
                const postElement = createElement('div', 'card blog-post');
                postElement.innerHTML = `
                    <h3>${sanitizeHTML(post.title)}</h3>
                    <p>${sanitizeHTML(post.excerpt)}</p>
                    <div class="blog-meta">
                        <span class="blog-author">${sanitizeHTML(post.author)}</span>
                        <span class="blog-date">${sanitizeHTML(post.date)}</span>
                    </div>
                `;
                blogContainer.appendChild(postElement);
            }
            
            // Update displayed posts count
            displayedBlogPosts = endIndex;
            
            // Show or hide load more button
            const loadMoreBlogContainer = document.querySelector('.load-more-container');
            if (displayedBlogPosts < blogPosts.length) {
                loadMoreBlogContainer.style.display = 'block';
            } else {
                loadMoreBlogContainer.style.display = 'none';
            }
        }
        
        
        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            // Reset displayed jobs counter
            displayedJobs = 0;
            
            // Load initial data
            loadJobs();
            renderHotJobsTicker();
            renderBlogPosts();
            
            // Add event listener for load more button
            document.getElementById('loadMoreBtn').addEventListener('click', loadMoreJobs);
            
            // Add event listener for load more jobs button
            document.getElementById('loadMoreContainer').addEventListener('click', function() {
                loadMoreJobs();
            });
            
            // Add event listener for load more jobs button
            document.getElementById('loadMoreJobsBtn').addEventListener('click', loadMoreJobs);
            
            // Add event listener for load more button
            document.getElementById('loadMoreBtn').addEventListener('click', loadMoreJobs);
            
            // Add event listener for load more blog posts button
            document.getElementById('loadMoreBlogBtn').addEventListener('click', loadMoreBlogPosts);
            
            // Add event listener for load more container button
            document.getElementById('loadMoreContainer').addEventListener('click', loadMoreJobs);
        });
    </script>
</body>
</html>